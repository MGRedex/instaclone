{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"/home/redex/environments/instagram/frontend/components/auth/Register.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { RegLogTextInput, SignButton } from \"../../Styles\";\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nvar RegisterScreen = function (_Component) {\n  _inherits(RegisterScreen, _Component);\n\n  var _super = _createSuper(RegisterScreen);\n\n  function RegisterScreen(props) {\n    var _this;\n\n    _classCallCheck(this, RegisterScreen);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      email: '',\n      password: '',\n      login: ''\n    };\n    _this.onSignUp = _this.onSignUp.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(RegisterScreen, [{\n    key: \"onSignUp\",\n    value: function onSignUp() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          email = _this$state.email,\n          password = _this$state.password,\n          login = _this$state.login;\n      axios.post('http://0.0.0.0:8000/api/rest-auth/registration/', {\n        \"username\": login,\n        \"email\": email,\n        \"password1\": password,\n        \"password2\": password\n      }).then(function (response) {\n        console.log(response);\n\n        _this2.setState({\n          loggedIn: true\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(View, {\n        style: {\n          flex: 1,\n          justifyContent: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 13\n        }\n      }, React.createElement(RegLogTextInput, {\n        placeholder: \"login\",\n        onChangeText: function onChangeText(login) {\n          return _this3.setState({\n            login: login\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33,\n          columnNumber: 17\n        }\n      }), React.createElement(RegLogTextInput, {\n        placeholder: \"email\",\n        onChangeText: function onChangeText(email) {\n          return _this3.setState({\n            email: email\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 17\n        }\n      }), React.createElement(RegLogTextInput, {\n        placeholder: \"password\",\n        secureTextEntry: true,\n        onChangeText: function onChangeText(password) {\n          return _this3.setState({\n            password: password\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 17\n        }\n      }), React.createElement(View, {\n        style: {\n          justifyContent: \"center\",\n          height: \"5%\",\n          alignItems: \"center\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 17\n        }\n      }, React.createElement(SignButton, {\n        style: {\n          height: \"100%\"\n        },\n        onPress: function onPress() {\n          return _this3.onSignUp();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }\n      }, React.createElement(Text, {\n        style: {\n          color: 'white'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }\n      }, \"Sign up\"))));\n    }\n  }]);\n\n  return RegisterScreen;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    loggedIn: state.userState.loggedIn\n  };\n};\n\nexport default connect(mapStateToProps)(RegisterScreen);","map":{"version":3,"sources":["/home/redex/environments/instagram/frontend/components/auth/Register.js"],"names":["React","Component","RegLogTextInput","SignButton","connect","axios","RegisterScreen","props","state","email","password","login","onSignUp","bind","post","then","response","console","log","setState","loggedIn","catch","error","flex","justifyContent","height","alignItems","color","mapStateToProps","userState"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { View, Button, TextInput, Text } from 'react-native';\nimport { RegLogTextInput, SignButton } from '../../Styles';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nclass RegisterScreen extends Component {\n    constructor(props){\n        super(props);\n\n        this.state = {\n            email:'',\n            password:'',\n            login: '',\n        }\n\n        this.onSignUp = this.onSignUp.bind(this)\n    }\n    onSignUp(){\n        const { email, password, login } = this.state\n        axios.post('http://0.0.0.0:8000/api/rest-auth/registration/', {\n            \"username\":login,\n            \"email\":email,\n            \"password1\": password,\n            \"password2\": password\n        }).then((response) => {\n            console.log(response)\n            this.setState({loggedIn: true})\n        }).catch((error) => {console.log(error)})\n    }\n    render(){\n        return (\n            <View style={{flex:1, justifyContent: \"center\"}}>\n                <RegLogTextInput \n                    placeholder=\"login\" \n                    onChangeText={(login) => this.setState({ login })}/>\n                <RegLogTextInput \n                    placeholder=\"email\" \n                    onChangeText={(email) => this.setState({ email })}/>\n                <RegLogTextInput \n                    placeholder=\"password\"\n                    secureTextEntry={true} \n                    onChangeText={(password) => this.setState({ password })}/>\n                <View style={{justifyContent: \"center\", height:\"5%\", alignItems: \"center\"}}>\n                    <SignButton style={{height:\"100%\"}} onPress={() => this.onSignUp()}>\n                        <Text style={{color: 'white'}}>Sign up</Text>\n                    </SignButton>\n                </View>\n            </View>\n        )\n    }\n}\nconst mapStateToProps = (state) => ({\n    loggedIn: state.userState.loggedIn\n})\nexport default connect(mapStateToProps)(RegisterScreen)"]},"metadata":{},"sourceType":"module"}