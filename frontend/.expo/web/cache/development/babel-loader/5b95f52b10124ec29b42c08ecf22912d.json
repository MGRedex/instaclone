{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/redex/environments/instagram/frontend/components/main/Search.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport firebase from 'firebase';\nimport 'firebase/firestore';\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport MarerialCommunityIcons from \"@expo/vector-icons/MaterialCommunityIcons\";\nimport { NickName, UserAvatar } from \"../../Styles\";\nexport default function Search(_ref) {\n  var _this = this;\n\n  var navigation = _ref.navigation;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      users = _useState2[0],\n      setUsers = _useState2[1];\n\n  var FollowersPlaceholder = 1327026;\n  var FollowingPlaceholder = 4489;\n  var Thousand = 1000;\n  var Million = 1000000;\n\n  var fetchUsers = function fetchUsers(search) {\n    firebase.firestore().collection(\"users\").where('name', '>=', search).get().then(function (snapshot) {\n      var users = snapshot.docs.map(function (doc) {\n        var data = doc.data();\n        var id = doc.id;\n        return _objectSpread({\n          id: id\n        }, data);\n      });\n      setUsers(users);\n    });\n  };\n\n  return React.createElement(View, {\n    style: {\n      flex: 1\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      width: \"90%\",\n      flexDirection: \"row\",\n      marginTop: 40,\n      marginLeft: \"5%\",\n      marginRight: \"5%\",\n      borderRadius: 10,\n      backgroundColor: \"#DDDDDD\",\n      alignItems: \"center\",\n      padding: 4\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 13\n    }\n  }, React.createElement(MarerialCommunityIcons, {\n    name: \"magnify\",\n    color: \"#AAAAAA\",\n    size: 25,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }), React.createElement(TextInput, {\n    style: {\n      width: \"90%\"\n    },\n    placeholder: \"Type here\",\n    onChangeText: function onChangeText(search) {\n      return fetchUsers(search);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 17\n    }\n  })), React.createElement(View, {\n    style: {\n      width: \"94%\",\n      marginTop: 20,\n      marginLeft: \"3%\",\n      marginRight: \"3%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }\n  }, React.createElement(FlatList, {\n    numColumns: 1,\n    horizontal: false,\n    data: users,\n    renderItem: function renderItem(_ref2) {\n      var item = _ref2.item;\n      return React.createElement(TouchableOpacity, {\n        style: {\n          flexDirection: \"row\",\n          alignItems: \"center\"\n        },\n        onPress: function onPress() {\n          return navigation.navigate(\"Profile\", {\n            uid: item.id\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }\n      }, React.createElement(UserAvatar, {\n        style: {\n          margin: 4\n        },\n        source: require(\"../../placeholder-images/Profile_avatar_placeholder_large.png\"),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 25\n        }\n      }), React.createElement(View, {\n        style: {\n          flex: 1\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }\n      }, React.createElement(NickName, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 29\n        }\n      }, item.name), React.createElement(View, {\n        style: {\n          width: \"100%\",\n          flexDirection: \"row\",\n          justifyContent: \"space-between\"\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 29\n        }\n      }, 3 > Million ? React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 34\n        }\n      }, (3 / Million).toFixed(1), \"M Posts\") : 3 > Thousand ? React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 34\n        }\n      }, (3 / Thousand).toFixed(1), \"K Posts\") : React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 34\n        }\n      }, 3, \" Posts\"), React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 33\n        }\n      }, \"|\"), FollowersPlaceholder > Million ? React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 34\n        }\n      }, (FollowersPlaceholder / Million).toFixed(1), \"M Followers\") : FollowersPlaceholder > Thousand ? React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 34\n        }\n      }, (FollowersPlaceholder / Thousand).toFixed(1), \"K Followers\") : React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 34\n        }\n      }, FollowersPlaceholder, \" Followers\"), React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 33\n        }\n      }, \"|\"), FollowingPlaceholder > Million ? React.createElement(Text, {\n        style: {\n          marginRight: 8\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 34\n        }\n      }, (FollowingPlaceholder / Million).toFixed(1), \"M Following\") : FollowingPlaceholder > Thousand ? React.createElement(Text, {\n        style: {\n          marginRight: 8\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 34\n        }\n      }, (FollowingPlaceholder / Thousand).toFixed(1), \"K Following\") : React.createElement(Text, {\n        style: {\n          marginRight: 8\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 34\n        }\n      }, FollowingPlaceholder, \" Following\"))));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  })));\n}","map":{"version":3,"sources":["/home/redex/environments/instagram/frontend/components/main/Search.js"],"names":["firebase","React","useState","MarerialCommunityIcons","NickName","UserAvatar","Search","navigation","users","setUsers","FollowersPlaceholder","FollowingPlaceholder","Thousand","Million","fetchUsers","search","firestore","collection","where","get","then","snapshot","docs","map","doc","data","id","flex","width","flexDirection","marginTop","marginLeft","marginRight","borderRadius","backgroundColor","alignItems","padding","item","navigate","uid","margin","require","name","justifyContent","toFixed"],"mappings":"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","sourcesContent":["import firebase from 'firebase';\nimport 'firebase/firestore';\nimport React, { useState } from 'react';\nimport { View, Text, TextInput, FlatList, TouchableOpacity } from 'react-native';\nimport MarerialCommunityIcons from 'react-native-vector-icons/MaterialCommunityIcons'\nimport { NickName, UserAvatar } from '../../Styles';\n\nexport default function Search({navigation}){\n    const [users, setUsers] = useState([])\n    const FollowersPlaceholder = 1327026\n    const FollowingPlaceholder = 4489\n    const Thousand = 1000\n    const Million = 1000000\n    const fetchUsers = (search) => {\n        firebase.firestore()\n        .collection(\"users\")\n        .where('name', '>=', search) \n        .get()\n        .then((snapshot) => {\n            let users = snapshot.docs.map(doc => {\n                const data = doc.data()\n                const id = doc.id\n                return {id, ...data}\n            })\n            setUsers(users)\n        })\n    }\n    return (\n        <View style={{flex:1}}>\n            <View style={{\n                width:\"90%\",\n                flexDirection:\"row\",\n                marginTop:40,\n                marginLeft:\"5%\",\n                marginRight:\"5%\",\n                borderRadius:10,\n                backgroundColor:\"#DDDDDD\",\n                alignItems: \"center\",\n                padding: 4}}>\n                <MarerialCommunityIcons name=\"magnify\" color=\"#AAAAAA\" size={25}/>\n                <TextInput\n                style={{width:\"90%\"}} \n                placeholder=\"Type here\" \n                onChangeText={(search) => fetchUsers(search)}/>\n            </View>\n            <View style={{\n                width:\"94%\",\n                marginTop:20,\n                marginLeft:\"3%\",\n                marginRight:\"3%\",}}>\n                <FlatList\n                numColumns={1}\n                horizontal={false}\n                data={users}\n                renderItem={({item}) => (\n                    <TouchableOpacity\n                    style={{\n                        flexDirection:\"row\",\n                        alignItems:\"center\"\n                    }}\n                    onPress={() => navigation.navigate(\"Profile\", {uid: item.id})}>\n                        <UserAvatar \n                            style={{\n                                margin:4\n                            }}\n                            source={require('../../placeholder-images/Profile_avatar_placeholder_large.png')}/>\n                        <View\n                            style={{flex:1}}>\n                            <NickName>{item.name}</NickName>\n                            <View style={{\n                                width:\"100%\",\n                                flexDirection:\"row\",\n                                justifyContent:\"space-between\"}}>\n                                {3 > Million ?\n                                (<Text>{(3/Million).toFixed(1)}M Posts</Text>) :\n                                3 > Thousand ?\n                                (<Text>{(3/Thousand).toFixed(1)}K Posts</Text>) :\n                                (<Text>{3} Posts</Text>)\n                                }\n                                <Text>|</Text>\n                                {FollowersPlaceholder > Million ? \n                                (<Text>{(FollowersPlaceholder/Million).toFixed(1)}M Followers</Text>) :\n                                FollowersPlaceholder > Thousand ?\n                                (<Text>{(FollowersPlaceholder/Thousand).toFixed(1)}K Followers</Text>) :\n                                (<Text>{FollowersPlaceholder} Followers</Text>)\n                                }\n                                <Text>|</Text>\n                                {FollowingPlaceholder > Million ? \n                                (<Text style={{marginRight:8}}>\n                                    {(FollowingPlaceholder/Million).toFixed(1)}M Following</Text>) :\n                                FollowingPlaceholder > Thousand ?\n                                (<Text style={{marginRight:8}}>\n                                    {(FollowingPlaceholder/Thousand).toFixed(1)}K Following</Text>) :\n                                (<Text style={{marginRight:8}}>\n                                    {FollowingPlaceholder} Following</Text>)\n                                }\n                            </View>\n                        </View>\n                    </TouchableOpacity>\n                )}/>\n            </View>\n        </View>\n    )\n}"]},"metadata":{},"sourceType":"module"}